$fa-font-path: "./fonts";
@import 'font-awesome/scss/font-awesome';

@import 'mixins/hide';
@import 'mixins/icons';
@import 'drag-and-drop';
@import 'img-dimension-warning';
@import 'menu';

$main-text-color: #333;

html,
body {
  margin: 0px;
  padding: 0px;
  background-color: #333;
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.btn-file-select {
	@include visuallyhidden;
  
  & + label {
    @include icon-button($fa-var-upload);

    text-align: center;
    position: absolute;
    display: inline-block;
    border-radius: 50%;
    border: solid 2px #eee;
  }

  &:focus + label,
  & + label:hover {
    background-color: #fff;
    border-color: $main-text-color;
    color: $main-text-color;
  }
  &:focus + label {
    outline: 1px dotted #000;
    outline: -webkit-focus-ring-color auto 5px;
  }
}

.btn-fullscreen {
  @include icon-button($fa-var-expand);
  position: absolute;
  background-color: transparent;
  border: none;
  .fullscreen &  {
     @include icon($fa-var-compress);
  }
}

.main-canvas {
  width: 100%;
  height: 100%;
  z-index: -1;
}

/*
 * Hide menu buttons on inactivity
 */
.btn-fullscreen,
.btn-file-select + label,
.toggle-menu-visible + label {
  $transition-time: 1s;
  -webkit-transition: opacity $transition-time;
  transition: opacity $transition-time;
  .user-inactive & {
    opacity: 0;
  }
}
/* But not the 'close menu' button ;) */
.toggle-menu-visible:checked + label {
  opacity: 1;
}

/* ===================================================================
 *
 * =================================================================== */

@mixin ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width) {
  @include menu-responsiveness($icon-btn-font-size, $button-edge-dist, $menu-width);
  .btn-fullscreen {
    font-size: $icon-btn-font-size;;
    top: $button-edge-dist;
    right: $button-edge-dist;
  }
  .btn-file-select + label {
    font-size: $icon-btn-font-size;;
    
    right: $button-edge-dist;
    bottom: $button-edge-dist;

    $circle-size: 1.5 * $icon-btn-font-size;
    width: $circle-size;
    height: $circle-size;
    line-height: $circle-size;
  }
}

@media (min-width:320px)  {
  /* smartphones, iPhone, portrait 480x320 phones */
  $icon-btn-font-size: 1.5cm;
  $button-edge-dist: 20px;
  $menu-width: 100%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
@media (min-width:481px)  {
  /* portrait e-readers (Nook/Kindle), smaller tablets @ 600 or @ 640 wide. */
  $icon-btn-font-size: 1.5cm;
  $button-edge-dist: 20px;
  $menu-width: 100%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
@media (min-width:641px)  {
  /* portrait tablets, portrait iPad, landscape e-readers, landscape 800x480 or 854x480 phones */
  $icon-btn-font-size: 1.5cm;
  $button-edge-dist: 1.5cm;
  $menu-width: 100%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
@media (min-width:961px)  {
  /* tablet, landscape iPad, lo-res laptops ands desktops */
  $icon-btn-font-size: 1.5cm;
  $button-edge-dist: 1.5cm;
  $menu-width: 50%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
@media (min-width:1025px) {
  /* big landscape tablets, laptops, and desktops */
  $icon-btn-font-size: 1.5cm;
  $button-edge-dist: 1cm;
  $menu-width: 40%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
@media (min-width:1281px) {
  /* hi-res laptops and desktops */
  $icon-btn-font-size: 1cm;
  $button-edge-dist: 1cm;
  $menu-width: 30%;
  @include ui-elements($icon-btn-font-size, $button-edge-dist, $menu-width);
}
